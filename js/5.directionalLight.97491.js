!function(e){function t(t){for(var r,i,o=t[0],a=t[1],s=t[2],c=0,u=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(D,i)&&D[i]&&u.push(D[i][0]),D[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(L&&L(t);u.length;)u.shift()();return G.push.apply(G,s||[]),n()}function n(){for(var e,t=0;t<G.length;t++){for(var n=G[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==D[o]&&(r=!1)}r&&(G.splice(t--,1),e=j(j.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!x[e]||!P[e])return;for(var n in P[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--y&&0===b&&O()}(e,t),r&&r(e,t)};var i,o=!0,a="97491799adb04d45263d",s={},c=[],u=[];function d(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(v={})[t]=e[t],p("ready");break;case"ready":M(t);break;case"prepare":case"check":case"dispose":case"apply":(m=m||[]).push(t)}},check:S,apply:U,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[t]};return i=void 0,n}var l=[],f="idle";function p(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var h,v,g,m,y=0,b=0,w={},P={},x={};function E(e){return+e+""===e?+e:e}function S(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=j.p+""+a+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p(T()?"ready":"idle"),null;P={},w={},x=e.c,g=e.h,p("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in v={},D)_(n);return"prepare"===f&&0===b&&0===y&&O(),t}));var t}function _(e){x[e]?(P[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=j.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function O(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then((function(){return U(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(E(n));e.resolve(t)}}function U(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,o,u,d,l;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((d=B[o])&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(d.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var s=0;s<d.parents.length;s++){var c=d.parents[s],u=B[c];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([c]),moduleId:o,parentId:c};-1===t.indexOf(c)&&(u.hot._acceptedDependencies[o]?(n[c]||(n[c]=[]),h(n[c],[o])):(delete n[c],t.push(c),r.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}T();var y={},b=[],w={},P=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var S in v)if(Object.prototype.hasOwnProperty.call(v,S)){var _;l=E(S),_=v[S]?f(l):{type:"disposed",moduleId:S};var O=!1,U=!1,M=!1,G="";switch(_.chain&&(G="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(O=new Error("Aborted because of self decline: "+_.moduleId+G));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+G));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(O=new Error("Aborted because "+l+" is not accepted"+G));break;case"accepted":n.onAccepted&&n.onAccepted(_),U=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),M=!0;break;default:throw new Error("Unexception type "+_.type)}if(O)return p("abort"),Promise.reject(O);if(U)for(l in w[l]=v[l],h(b,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,l)&&(y[l]||(y[l]=[]),h(y[l],_.outdatedDependencies[l]));M&&(h(b,[_.moduleId]),w[l]=P)}var I,A=[];for(o=0;o<b.length;o++)l=b[o],B[l]&&B[l].hot._selfAccepted&&w[l]!==P&&!B[l].hot._selfInvalidated&&A.push({module:l,parents:B[l].parents.slice(),errorHandler:B[l].hot._selfAccepted});p("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete D[e]}(e)}));var C,L,k=b.slice();for(;k.length>0;)if(l=k.pop(),d=B[l]){var R={},H=d.hot._disposeHandlers;for(u=0;u<H.length;u++)(r=H[u])(R);for(s[l]=R,d.hot.active=!1,delete B[l],delete y[l],u=0;u<d.children.length;u++){var V=B[d.children[u]];V&&((I=V.parents.indexOf(l))>=0&&V.parents.splice(I,1))}}for(l in y)if(Object.prototype.hasOwnProperty.call(y,l)&&(d=B[l]))for(L=y[l],u=0;u<L.length;u++)C=L[u],(I=d.children.indexOf(C))>=0&&d.children.splice(I,1);p("apply"),void 0!==g&&(a=g,g=void 0);for(l in v=void 0,w)Object.prototype.hasOwnProperty.call(w,l)&&(e[l]=w[l]);var z=null;for(l in y)if(Object.prototype.hasOwnProperty.call(y,l)&&(d=B[l])){L=y[l];var N=[];for(o=0;o<L.length;o++)if(C=L[o],r=d.hot._acceptedDependencies[C]){if(-1!==N.indexOf(r))continue;N.push(r)}for(o=0;o<N.length;o++){r=N[o];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:l,dependencyId:L[o],error:e}),n.ignoreErrored||z||(z=e)}}}for(o=0;o<A.length;o++){var F=A[o];l=F.module,c=F.parents,i=l;try{j(l)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,originalError:e}),n.ignoreErrored||z||(z=t),z||(z=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:l,error:e}),n.ignoreErrored||z||(z=e)}}if(z)return p("fail"),Promise.reject(z);if(m)return t(n).then((function(e){return b.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(b)}))}(t=t||{})}function T(){if(m)return v||(v={}),m.forEach(M),m=void 0,!0}function M(t){Object.prototype.hasOwnProperty.call(v,t)||(v[t]=e[t])}var B={},D={5:0},G=[];function j(t){if(B[t])return B[t].exports;var n=B[t]={i:t,l:!1,exports:{},hot:d(t),parents:(u=c,c=[],u),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=B[e];if(!t)return j;var n=function(n){return t.hot.active?(B[n]?-1===B[n].parents.indexOf(e)&&B[n].parents.push(e):(c=[e],i=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),j(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var o in j)Object.prototype.hasOwnProperty.call(j,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===f&&p("prepare"),b++,j.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===f&&(w[e]||_(e),0===b&&0===y&&O())}},n.t=function(e,t){return 1&t&&(e=n(e)),j.t(e,-2&t)},n}(t)),n.l=!0,n.exports}j.m=e,j.c=B,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="",j.h=function(){return a};var I=window.webpackJsonp=window.webpackJsonp||[],A=I.push.bind(I);I.push=t,I=I.slice();for(var C=0;C<I.length;C++)t(I[C]);var L=A;G.push([17,0]),n()}([function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGPURenderEngin=void 0;var o=n(4),a=function(){function e(e){this.pipelines=[],this.clearColor={r:.25,g:.5,b:1,a:1},this.gpu=navigator.gpu,e instanceof HTMLCanvasElement?this.canvas=e:this.canvas=document.getElementById(e)}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),this.gpu?(e=this,[4,navigator.gpu.requestAdapter({powerPreference:"high-performance"})]):[3,5];case 1:return e.adapter=i.sent(),t=this,[4,this.adapter.requestDevice()];case 2:return t.device=i.sent(),this.canvas.width=this.canvas.parentElement.clientWidth,this.canvas.height=this.canvas.parentElement.clientHeight,this.context=this.canvas.getContext("gpupresent"),n=this,[4,this.context.getSwapChainPreferredFormat(this.device)];case 3:return n.swapChainTextureFormat=i.sent(),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.swapChainTextureFormat,usage:GPUTextureUsage.OUTPUT_ATTACHMENT|GPUTextureUsage.COPY_SRC}),r=this,[4,o.default()];case 4:return r.glslang=i.sent(),this.depthTexture=this.device.createTexture({size:{width:this.canvas.width,height:this.canvas.height,depth:1},format:"depth24plus-stencil8",usage:GPUTextureUsage.OUTPUT_ATTACHMENT}),[2,!0];case 5:return[2,!1];case 6:return[3,8];case 7:return a=i.sent(),console.error(a),[2,!1];case 8:return[2]}}))}))},e.prototype.draw=function(e){this.commandEncoder=this.device.createCommandEncoder();var t={colorAttachments:[{attachment:this.swapChain.getCurrentTexture().createView(),loadValue:this.clearColor,storeOp:"store"}],depthStencilAttachment:{attachment:this.depthTexture.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}};this.renderPassEncoder=this.commandEncoder.beginRenderPass(t);for(var n=0;n<this.pipelines.length;n++){var r=this.pipelines[n];this.renderPassEncoder.setPipeline(r.pipeline),this.renderPassEncoder.setBindGroup(0,r.uniformBindGroup),this.renderPassEncoder.setViewport(0,0,this.canvas.width,this.canvas.height,0,1),this.renderPassEncoder.setScissorRect(0,0,this.canvas.width,this.canvas.height);for(var i=0;i<r.attributes.length;i++){var o=r.attributes[i].buffer;this.renderPassEncoder.setVertexBuffer(i,o)}r.indexLength>0?(this.renderPassEncoder.setIndexBuffer(r.indexBuffer),this.renderPassEncoder.drawIndexed(r.indexLength,1,0,0,0)):this.renderPassEncoder.draw(e,1,0,0)}this.renderPassEncoder.endPass(),this.device.defaultQueue.submit([this.commandEncoder.finish()])},e}();t.WebGPURenderEngin=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGPURenderPipeline=void 0;var o=n(3),a=function(){function e(e,t,n){var r=this;this.attributes=[],this.uniformEntries=new Map,this.engin=e,this.engin.pipelines.push(this),this.vs=t,this.fs=n,this.vertModule=this.engin.device.createShaderModule({code:this.engin.glslang.compileGLSL(t,"vertex",!0),source:t,transform:function(e){return r.engin.glslang.compileGLSL(e,"vertex",!0)}}),this.fragModule=this.engin.device.createShaderModule({code:this.engin.glslang.compileGLSL(n,"fragment",!0),source:n,transform:function(e){return r.engin.glslang.compileGLSL(e,"fragment",!0)}})}return e.prototype.createBuffer=function(e,t){var n=this.engin.device.createBuffer({size:e.byteLength,usage:t,mappedAtCreation:!0});return new e.constructor(n.getMappedRange()).set(e),n.unmap(),n},e.prototype.updateBuffer=function(e,t,n){this.engin.device.defaultQueue.writeBuffer(e,t,n,0,n.byteLength)},e.prototype.addAttribute=function(e,t){void 0===t&&(t=3);var n=this.createBuffer(e,GPUBufferUsage.VERTEX);this.attributes.push({buffer:n,componentSize:t})},e.prototype.resetAttributes=function(){this.attributes.forEach((function(e){e.buffer.destroy()})),this.attributes=[]},e.prototype.setIndex=function(e){this.indexBuffer=this.createBuffer(e,GPUBufferUsage.INDEX),this.indexLength=e.length},e.prototype.addUniformEntry=function(e){this.uniformEntries.set(e.binding,e)},e.prototype.getUniformEntryByBinding=function(e){return this.uniformEntries.get(e)},e.prototype.addUniformBuffer=function(e,t){void 0===t&&(t=0);var n=this.createBuffer(e,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST);this.addUniformEntry({binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,type:"uniform-buffer",resource:{buffer:n}})},e.prototype.addSampler=function(e,t,n){void 0===t&&(t="linear"),void 0===n&&(n="linear");var r=this.engin.device.createSampler({magFilter:t,minFilter:n,maxAnisotropy:4});this.addUniformEntry({binding:e,visibility:GPUShaderStage.FRAGMENT,type:"sampler",resource:r})},e.prototype.addTextureView=function(e,t,n){return void 0===n&&(n=!0),r(this,void 0,void 0,(function(){var r,a,s,c,u,d,l,f,p;return i(this,(function(i){switch(i.label){case 0:return r=new Image,n&&(r.crossOrigin="anonymous"),r.src=t,[4,r.decode()];case 1:return i.sent(),a=this.engin.device.createTexture({size:{width:r.width,height:r.height,depth:1},format:"rgba8unorm",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.SAMPLED}),s=o.getImageData(r),"function"!=typeof this.engin.device.defaultQueue.writeTexture?[3,2]:(this.engin.device.defaultQueue.writeTexture({texture:a},s,{bytesPerRow:4*r.width},[r.width,r.height,1]),[3,5]);case 2:return void 0===createImageBitmap?[3,4]:[4,createImageBitmap(r)];case 3:return c=i.sent(),u={imageBitmap:c},d={texture:a},l={width:r.width,height:r.height,depth:1},this.engin.device.defaultQueue.copyImageBitmapToTexture(u,d,l),c.close(),[3,5];case 4:f=this.engin.device.createBuffer({size:s.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC}),this.engin.device.defaultQueue.writeBuffer(f,0,s),(p=this.engin.device.createCommandEncoder()).copyBufferToTexture({buffer:f,bytesPerRow:4*r.width,imageHeight:r.height},{texture:a},[r.width,r.height,1]),this.engin.device.defaultQueue.submit([p.finish()]),i.label=5;case 5:return this.addUniformEntry({binding:e,visibility:GPUShaderStage.FRAGMENT,type:"sampled-texture",resource:a.createView()}),[2]}}))}))},e.prototype.generateUniforms=function(){var e={entries:[]},t=[];this.uniformEntries.forEach((function(n,r){e.entries.push({binding:n.binding,visibility:n.visibility,type:n.type}),t.push({binding:n.binding,resource:n.resource})})),this.uniformBindGroupLayout=this.engin.device.createBindGroupLayout(e),this.uniformBindGroup=this.engin.device.createBindGroup({layout:this.uniformBindGroupLayout,entries:t})},e.prototype.generatePipline=function(){this.generateUniforms(),this.vertexStage={module:this.vertModule,entryPoint:"main"},this.fragmentStage={module:this.fragModule,entryPoint:"main"},this.colorState={format:"bgra8unorm",colorBlend:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},writeMask:GPUColorWrite.ALL},this.rasterizationState={},this.layout=this.engin.device.createPipelineLayout({bindGroupLayouts:[this.uniformBindGroupLayout]}),this.vertexState={indexFormat:"uint32",vertexBuffers:this.getVertexBufferDesc()},this.pipelineDesc={layout:this.layout,vertexStage:this.vertexStage,fragmentStage:this.fragmentStage,primitiveTopology:"triangle-list",colorStates:[this.colorState],vertexState:this.vertexState,depthStencilState:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus-stencil8"},rasterizationState:this.rasterizationState},this.pipeline=this.engin.device.createRenderPipeline(this.pipelineDesc)},e.prototype.getVertexBufferDesc=function(){return this.attributes.map((function(e,t){return{attributes:[{shaderLocation:t,offset:0,format:"float"+e.componentSize}],arrayStride:4*e.componentSize,stepMode:"vertex"}}))},e}();t.WebGPURenderPipeline=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=void 0;t.getImageData=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(1),s=n(2);n(0);var c=n(18),u=n(19),d=new a.WebGPURenderEngin("renderCanvas"),l=o.mat4.perspective(o.mat4.create(),Math.PI/3.5,d.canvas.width/d.canvas.height,.01,1e4),f=o.mat4.lookAt(o.mat4.create(),o.vec3.fromValues(0,1.5*u.longSize,200),o.vec3.fromValues(0,u.longSize/2,0),o.vec3.fromValues(0,1,0)),p=o.mat4.create(),h=o.mat4.create(),v=o.mat4.create(),g=o.mat4.create(),m=new Float32Array(64),y=null,b=function(){var e=y.getUniformEntryByBinding(0).resource.buffer;y.updateBuffer(e,0,w()),d.draw(u.positions.length/3),requestAnimationFrame(b)},w=function(){return o.mat4.fromRotation(p,5e-4*(new Date).getTime(),o.vec3.fromValues(0,1,0)),o.mat4.mul(h,f,p),o.mat4.mul(v,l,h),o.mat4.invert(g,h),o.mat4.transpose(g,g),m.set(v),m.set(h,16),m.set(g,32),m.set(f,48),m};window.addEventListener("DOMContentLoaded",(function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,d.init()];case 1:return e.sent()&&((y=new s.WebGPURenderPipeline(d,c.vs,c.fs)).addAttribute(u.positions),y.addAttribute(u.normals),y.addUniformBuffer(m),y.generatePipline(),b()),[2]}}))}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vs=t.fs=void 0;t.vs="#version 450\nlayout(set = 0, binding = 0) uniform Uniforms {\n    mat4 uMVPMatrix;\n    mat4 uMVMatrix;\n    mat4 uNormalMatrix;\n};\n\nlayout(location = 0) in vec3 aPosition;\nlayout(location = 1) in vec3 aNormal;\n\nlayout(location = 0) out vec3 vNormal;\nvoid main() {\n    gl_Position = uMVPMatrix * vec4(aPosition, 1.0);\n    vNormal = (uNormalMatrix * vec4(aNormal, 0)).xyz;\n}";t.fs="#version 450\n    precision highp float; \n    layout(location=0) in vec3 vNormal;\n\n    layout(location=0) out vec4 fragColor;\n\n    void main(){ \n        vec4 color = vec4(1, 0, 0, 1);  // 模型颜色\n        vec3 lightColor = vec3(1, 1, 1); //光源颜色\n        vec3 normal = normalize(vNormal); //法向量\n        vec3 dir = normalize(vec3(0.5,1.0,0.7)); //光源方向\n        float cosTheta = max(dot(normal, dir),0.0); // 计算夹角的cos值\n        vec3 diffuse = lightColor * vec3(color) * cosTheta;\n        fragColor  = vec4(diffuse,1.0);\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.longSize=t.normals=t.positions=void 0;t.longSize=100;var r=new Float32Array([0,0,0,10,100,0,0,100,0,0,0,0,10,0,0,10,100,0,0,0,-10,0,100,-10,10,100,-10,0,0,-10,10,100,-10,10,0,-10,0,100,0,10,100,0,10,100,-10,0,100,0,10,100,-10,0,100,-10,0,0,0,10,0,-10,10,0,0,0,0,0,0,0,-10,10,0,-10,0,0,0,0,100,0,0,0,-10,0,0,-10,0,100,0,0,100,-10,10,10,0,10,10,-10,10,100,0,10,10,-10,10,100,-10,10,100,0,10,0,0,60,10,0,10,10,0,10,0,0,60,0,0,60,10,0,10,0,-10,10,10,-10,60,10,-10,10,0,-10,60,10,-10,60,0,-10,10,10,0,60,10,-10,10,10,-10,10,10,0,60,10,0,60,10,-10,10,0,0,10,0,-10,60,0,-10,10,0,0,60,0,-10,60,0,0,60,0,0,60,10,-10,60,10,0,60,0,0,60,0,-10,60,10,-10]);t.positions=r;var i=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0]);t.normals=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9yZW5kZXJFbmdpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3BpcGxpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby81LmRpcmVjdGlvbmFsTGlnaHQvcGFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby81LmRpcmVjdGlvbmFsTGlnaHQvc2hhZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vLzUuZGlyZWN0aW9uYWxMaWdodC9kYXRhLnRzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJob3RDdXJyZW50UGFyZW50cyIsImhvdEN1cnJlbnRQYXJlbnRzVGVtcCIsImhvdENyZWF0ZU1vZHVsZSIsImhvdCIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX3NlbGZJbnZhbGlkYXRlZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjdGl2ZSIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwidW5kZWZpbmVkIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4IiwiaW5kZXhPZiIsImludmFsaWRhdGUiLCJ0aGlzIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwiaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZSIsImhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcyIsImNoZWNrIiwiaG90Q2hlY2siLCJob3RBcHBseSIsInN0YXR1cyIsImwiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwibmV3U3RhdHVzIiwiaG90RGVmZXJyZWQiLCJob3RVcGRhdGVOZXdIYXNoIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwidG9Nb2R1bGVJZCIsImlkIiwiRXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwiZXJyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImUiLCJ0aGVuIiwiaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMiLCJjIiwiaCIsInByb21pc2UiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiaG90QXBwbHlJbnRlcm5hbCIsImNiIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwiaW5zdGFsbGVkTW9kdWxlcyIsInR5cGUiLCJwYXJlbnRzIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJjb25zb2xlIiwid2FybiIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwiam9pbiIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsInNsaWNlIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZHJlbiIsImNoaWxkIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJsaXN0IiwiNSIsImV4cG9ydHMiLCJtZSIsImZuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImZpbmlzaENodW5rTG9hZGluZyIsInQiLCJtb2RlIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJqc29ucEFycmF5Iiwib2xkSnNvbnBGdW5jdGlvbiIsImNhbnZhc09yRG9tSWQiLCJwaXBlbGluZXMiLCJjbGVhckNvbG9yIiwiZyIsImdwdSIsIm5hdmlnYXRvciIsIkhUTUxDYW52YXNFbGVtZW50IiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbml0IiwicmVxdWVzdEFkYXB0ZXIiLCJwb3dlclByZWZlcmVuY2UiLCJhZGFwdGVyIiwicmVxdWVzdERldmljZSIsImRldmljZSIsIndpZHRoIiwicGFyZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJnZXRTd2FwQ2hhaW5QcmVmZXJyZWRGb3JtYXQiLCJzd2FwQ2hhaW5UZXh0dXJlRm9ybWF0Iiwic3dhcENoYWluIiwiY29uZmlndXJlU3dhcENoYWluIiwiZm9ybWF0IiwidXNhZ2UiLCJHUFVUZXh0dXJlVXNhZ2UiLCJPVVRQVVRfQVRUQUNITUVOVCIsIkNPUFlfU1JDIiwiZ2xzbGFuZyIsImRlcHRoVGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJzaXplIiwiZGVwdGgiLCJkcmF3IiwidmVydE51bSIsImNvbW1hbmRFbmNvZGVyIiwiY3JlYXRlQ29tbWFuZEVuY29kZXIiLCJyZW5kZXJQYXNzRGVzYyIsImNvbG9yQXR0YWNobWVudHMiLCJhdHRhY2htZW50IiwiZ2V0Q3VycmVudFRleHR1cmUiLCJjcmVhdGVWaWV3IiwibG9hZFZhbHVlIiwic3RvcmVPcCIsImRlcHRoU3RlbmNpbEF0dGFjaG1lbnQiLCJkZXB0aExvYWRWYWx1ZSIsImRlcHRoU3RvcmVPcCIsInN0ZW5jaWxMb2FkVmFsdWUiLCJzdGVuY2lsU3RvcmVPcCIsInJlbmRlclBhc3NFbmNvZGVyIiwiYmVnaW5SZW5kZXJQYXNzIiwiY3VycmVudFBpcGVsaW5lIiwic2V0UGlwZWxpbmUiLCJwaXBlbGluZSIsInNldEJpbmRHcm91cCIsInVuaWZvcm1CaW5kR3JvdXAiLCJzZXRWaWV3cG9ydCIsInNldFNjaXNzb3JSZWN0IiwiYXR0cmlidXRlcyIsImJ1ZmZlciIsInNldFZlcnRleEJ1ZmZlciIsImluZGV4TGVuZ3RoIiwic2V0SW5kZXhCdWZmZXIiLCJpbmRleEJ1ZmZlciIsImRyYXdJbmRleGVkIiwiZW5kUGFzcyIsImRlZmF1bHRRdWV1ZSIsInN1Ym1pdCIsImZpbmlzaCIsIldlYkdQVVJlbmRlckVuZ2luIiwiZW5naW5lIiwidnMiLCJmcyIsInVuaWZvcm1FbnRyaWVzIiwiTWFwIiwiZW5naW4iLCJ2ZXJ0TW9kdWxlIiwiY3JlYXRlU2hhZGVyTW9kdWxlIiwiY29kZSIsImNvbXBpbGVHTFNMIiwic291cmNlIiwidHJhbnNmb3JtIiwiZnJhZ01vZHVsZSIsImNyZWF0ZUJ1ZmZlciIsImZyb21UeXBlZEFycmF5IiwiZ3B1QnVmZmVyIiwiYnl0ZUxlbmd0aCIsIm1hcHBlZEF0Q3JlYXRpb24iLCJjb25zdHJ1Y3RvciIsImdldE1hcHBlZFJhbmdlIiwidW5tYXAiLCJ1cGRhdGVCdWZmZXIiLCJ0byIsIm9mZnNldCIsIndyaXRlQnVmZmVyIiwiYWRkQXR0cmlidXRlIiwidHlwZWRBcnJheSIsImNvbXBvbmVudFNpemUiLCJHUFVCdWZmZXJVc2FnZSIsIlZFUlRFWCIsInJlc2V0QXR0cmlidXRlcyIsImRlc3Ryb3kiLCJzZXRJbmRleCIsIklOREVYIiwiYWRkVW5pZm9ybUVudHJ5IiwiYmluZGluZyIsImdldFVuaWZvcm1FbnRyeUJ5QmluZGluZyIsImFkZFVuaWZvcm1CdWZmZXIiLCJVTklGT1JNIiwiQ09QWV9EU1QiLCJ2aXNpYmlsaXR5IiwiR1BVU2hhZGVyU3RhZ2UiLCJGUkFHTUVOVCIsInJlc291cmNlIiwiYWRkU2FtcGxlciIsIm1hZ0ZpbHRlciIsIm1pbkZpbHRlciIsInNhbXBsZXIiLCJjcmVhdGVTYW1wbGVyIiwibWF4QW5pc290cm9weSIsImFkZFRleHR1cmVWaWV3IiwidXJsIiwibmVlZENvcnMiLCJpbWciLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiZGVjb2RlIiwidGV4dHVyZSIsIlNBTVBMRUQiLCJ0ZXh0dXJlRGF0YSIsImdldEltYWdlRGF0YSIsIndyaXRlVGV4dHVyZSIsImJ5dGVzUGVyUm93IiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJiaXRtYXAiLCJpbWFnZUJpdG1hcCIsImRlc3RpbmF0aW9uIiwiY29weVNpemUiLCJjb3B5SW1hZ2VCaXRtYXBUb1RleHR1cmUiLCJjbG9zZSIsInRleHR1cmVEYXRhQnVmZmVyIiwidGV4dHVyZUxvYWRFbmNvZGVyIiwiY29weUJ1ZmZlclRvVGV4dHVyZSIsImltYWdlSGVpZ2h0IiwiZ2VuZXJhdGVVbmlmb3JtcyIsImJpbmRHcm91cExheW91dERlcyIsImVudHJpZXMiLCJiaW5kR3JvdXBFbnRyaWVzIiwiZW50cnkiLCJ1bmlmb3JtQmluZEdyb3VwTGF5b3V0IiwiY3JlYXRlQmluZEdyb3VwTGF5b3V0IiwiY3JlYXRlQmluZEdyb3VwIiwibGF5b3V0IiwiZ2VuZXJhdGVQaXBsaW5lIiwidmVydGV4U3RhZ2UiLCJlbnRyeVBvaW50IiwiZnJhZ21lbnRTdGFnZSIsImNvbG9yU3RhdGUiLCJjb2xvckJsZW5kIiwic3JjRmFjdG9yIiwiZHN0RmFjdG9yIiwib3BlcmF0aW9uIiwid3JpdGVNYXNrIiwiR1BVQ29sb3JXcml0ZSIsIkFMTCIsInJhc3Rlcml6YXRpb25TdGF0ZSIsImNyZWF0ZVBpcGVsaW5lTGF5b3V0IiwiYmluZEdyb3VwTGF5b3V0cyIsInZlcnRleFN0YXRlIiwiaW5kZXhGb3JtYXQiLCJ2ZXJ0ZXhCdWZmZXJzIiwiZ2V0VmVydGV4QnVmZmVyRGVzYyIsInBpcGVsaW5lRGVzYyIsInByaW1pdGl2ZVRvcG9sb2d5IiwiY29sb3JTdGF0ZXMiLCJkZXB0aFN0ZW5jaWxTdGF0ZSIsImRlcHRoV3JpdGVFbmFibGVkIiwiZGVwdGhDb21wYXJlIiwiY3JlYXRlUmVuZGVyUGlwZWxpbmUiLCJpbmRleCIsInNoYWRlckxvY2F0aW9uIiwiYXJyYXlTdHJpZGUiLCJzdGVwTW9kZSIsIldlYkdQVVJlbmRlclBpcGVsaW5lIiwiY3R4IiwiZHJhd0ltYWdlIiwicmVuZGVyRW5naW5lIiwicHJvamVjdGlvbk10cml4IiwibWF0NCIsInBlcnNwZWN0aXZlIiwiTWF0aCIsIlBJIiwidmlld01hdHJpeCIsImxvb2tBdCIsInZlYzMiLCJmcm9tVmFsdWVzIiwibG9uZ1NpemUiLCJtb2RlbE1hdHJpeCIsIm12TWF0cml4IiwibXZwTWF0cml4IiwibXZJbnZlcnRUcmFuc3Bvc2UiLCJtYXRyaXhBcnJheSIsIkZsb2F0MzJBcnJheSIsInBpcGxpbmUiLCJyZW5kZXIiLCJnZXRSb3RhdGVNYXRyaXgiLCJwb3NpdGlvbnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmcm9tUm90YXRpb24iLCJEYXRlIiwiZ2V0VGltZSIsIm11bCIsImludmVydCIsInRyYW5zcG9zZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJub3JtYWxzIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtB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LGFBQ2hCLENBRUQsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFJbEIsRUFBVSxHQUFTLEVBQ25CLEVBQVUsR0FBUyxFQUNuQixFQUFVLEdBQVMsRUFDbkIsRUFBVSxHQUFTLEVBQ25CLEVBQVUsR0FBUyxFQUNuQixFQUFVLEdBQVMsRUFHbkIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFHbEIsR0FBVyxFQUFRLEVBQ25CLEdBQVcsRUFBUSxFQUNuQixHQUFXLEVBQVEsRUFDbkIsR0FBVyxFQUFRLEVBQ25CLEdBQVcsRUFBUSxFQUNuQixHQUFXLEVBQVEsR0FHbEIsRUFBVSxFQUFRLEdBQ2xCLEVBQVUsRUFBUSxHQUNsQixFQUFVLEVBQVEsR0FDbEIsRUFBVSxFQUFRLEdBQ2xCLEVBQVUsRUFBUSxHQUNsQixFQUFVLEVBQVEsRUFHbkIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFHbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFHbEIsRUFBVSxHQUFTLEVBQ25CLEVBQVUsR0FBUyxFQUNuQixFQUFVLEdBQVMsRUFDbkIsRUFBVSxHQUFTLEVBQ25CLEVBQVUsR0FBUyxFQUNuQixFQUFVLEdBQVMsRUFJbkIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFHbEIsR0FBVyxFQUFRLEVBQ25CLEdBQVcsRUFBUSxFQUNuQixHQUFXLEVBQVEsRUFDbkIsR0FBVyxFQUFRLEVBQ25CLEdBQVcsRUFBUSxFQUNuQixHQUFXLEVBQVEsRUFHbkIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsRUFDbEIsRUFBVSxFQUFRLEVBQ2xCLEVBQVUsRUFBUSxFQUNsQixFQUFVLEVBQVEsSUFJRCxFQUFBYSIsImZpbGUiOiJqcy81LmRpcmVjdGlvbmFsTGlnaHQuOTc0OTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cbiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjk3NDkxNzk5YWRiMDRkNDUyNjNkXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmSW52YWxpZGF0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcbiBcdFx0XHRpbnZhbGlkYXRlOiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdHRoaXMuX3NlbGZJbnZhbGlkYXRlZCA9IHRydWU7XG4gXHRcdFx0XHRzd2l0Y2ggKGhvdFN0YXR1cykge1xuIFx0XHRcdFx0XHRjYXNlIFwiaWRsZVwiOlxuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInJlYWR5XCI6XG4gXHRcdFx0XHRcdFx0aG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZShtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJwcmVwYXJlXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJjaGVja1wiOlxuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZVwiOlxuIFx0XHRcdFx0XHRjYXNlIFwiYXBwbHlcIjpcbiBcdFx0XHRcdFx0XHQoaG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzID1cbiBcdFx0XHRcdFx0XHRcdGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcyB8fCBbXSkucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0Ly8gaWdub3JlIHJlcXVlc3RzIGluIGVycm9yIHN0YXRlc1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoLCBob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXM7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKSA/IFwicmVhZHlcIiA6IFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdGZvcih2YXIgY2h1bmtJZCBpbiBpbnN0YWxsZWRDaHVua3MpXG4gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0e1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiBcdFx0cmV0dXJuIGhvdEFwcGx5SW50ZXJuYWwob3B0aW9ucyk7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5SW50ZXJuYWwob3B0aW9ucykge1xuIFx0XHRob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcygpO1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdCFtb2R1bGUgfHxcbiBcdFx0XHRcdFx0KG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCAmJiAhbW9kdWxlLmhvdC5fc2VsZkludmFsaWRhdGVkKVxuIFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkICYmXG4gXHRcdFx0XHQvLyByZW1vdmVkIHNlbGYtYWNjZXB0ZWQgbW9kdWxlcyBzaG91bGQgbm90IGJlIHJlcXVpcmVkXG4gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSAhPT0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlICYmXG4gXHRcdFx0XHQvLyB3aGVuIGNhbGxlZCBpbnZhbGlkYXRlIHNlbGYtYWNjZXB0aW5nIGlzIG5vdCBwb3NzaWJsZVxuIFx0XHRcdFx0IWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkludmFsaWRhdGVkXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdHBhcmVudHM6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLnBhcmVudHMuc2xpY2UoKSxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aWYgKGhvdFVwZGF0ZU5ld0hhc2ggIT09IHVuZGVmaW5lZCkge1xuIFx0XHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdW5kZWZpbmVkO1xuIFx0XHR9XG4gXHRcdGhvdFVwZGF0ZSA9IHVuZGVmaW5lZDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gaXRlbS5wYXJlbnRzO1xuIFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IG1vZHVsZUlkO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRpZiAoaG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzKSB7XG4gXHRcdFx0cmV0dXJuIGhvdEFwcGx5SW50ZXJuYWwob3B0aW9ucykudGhlbihmdW5jdGlvbihsaXN0KSB7XG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbihtb2R1bGVJZCkge1xuIFx0XHRcdFx0XHRpZiAobGlzdC5pbmRleE9mKG1vZHVsZUlkKSA8IDApIGxpc3QucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHR9KTtcbiBcdFx0XHRcdHJldHVybiBsaXN0O1xuIFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcygpIHtcbiBcdFx0aWYgKGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcykge1xuIFx0XHRcdGlmICghaG90VXBkYXRlKSBob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHRob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMuZm9yRWFjaChob3RBcHBseUludmFsaWRhdGVkTW9kdWxlKTtcbiBcdFx0XHRob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSB1bmRlZmluZWQ7XG4gXHRcdFx0cmV0dXJuIHRydWU7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIG1vZHVsZUlkKSlcbiBcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9kdWxlc1ttb2R1bGVJZF07XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQ1OiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMTcsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKlxuICogQEF1dGhvcjogaG9uZ3h1LmxpblxuICogQERhdGU6IDIwMjAtMDctMDggMTU6NDg6MTBcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDctMjAgMjI6MjA6NDNcbiAqL1xuXG5pbXBvcnQgeyBHbHNsYW5nIH0gZnJvbSBcIkB3ZWJncHUvZ2xzbGFuZy9kaXN0L3dlYi1kZXZlbC9nbHNsYW5nLm9uZWZpbGVcIjtcbmltcG9ydCBnbHNsYW5nTW9kdWxlIGZyb20gXCJAd2ViZ3B1L2dsc2xhbmcvZGlzdC93ZWItZGV2ZWwvZ2xzbGFuZy5vbmVmaWxlXCI7XG5pbXBvcnQgeyBXZWJHUFVSZW5kZXJQaXBlbGluZSB9IGZyb20gXCIuL3BpcGxpbmVcIjtcblxuZXhwb3J0IGNsYXNzIFdlYkdQVVJlbmRlckVuZ2luIHtcbiAgICBncHU6IEdQVTtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGNvbnRleHQ6IEdQVUNhbnZhc0NvbnRleHQ7XG5cbiAgICBhZGFwdGVyOiBHUFVBZGFwdGVyO1xuICAgIGRldmljZTogR1BVRGV2aWNlO1xuICAgIHF1ZXVlOiBHUFVRdWV1ZTtcblxuICAgIHN3YXBDaGFpbjogR1BVU3dhcENoYWluO1xuICAgIHN3YXBDaGFpblRleHR1cmVGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQ7XG4gICAgZGVwdGhUZXh0dXJlOiBHUFVUZXh0dXJlO1xuXG4gICAgZ2xzbGFuZzogR2xzbGFuZztcbiAgICBwaXBlbGluZXM6IEFycmF5PFdlYkdQVVJlbmRlclBpcGVsaW5lPiA9IFtdO1xuXG4gICAgY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyO1xuICAgIHJlbmRlclBhc3NFbmNvZGVyOiBHUFVSZW5kZXJQYXNzRW5jb2RlcjtcblxuICAgIGNsZWFyQ29sb3IgPSB7IHI6IDAuMjUsIGc6IDAuNSwgYjogMSwgYTogMS4wIH07XG4gICAgY29uc3RydWN0b3IoY2FudmFzT3JEb21JZDogSFRNTENhbnZhc0VsZW1lbnQgfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ncHUgPSBuYXZpZ2F0b3IuZ3B1O1xuICAgICAgICBpZiAoY2FudmFzT3JEb21JZCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc09yRG9tSWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc09yRG9tSWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdwdSkge1xuICAgICAgICAgICAgICAgIC8vIOaLv+WIsGdwdeeahOmAgumFjeWZqO+8iOaYvuWNoe+8iVxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlciA9IGF3YWl0IG5hdmlnYXRvci5ncHUucmVxdWVzdEFkYXB0ZXIoe1xuICAgICAgICAgICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8g6YCC6YWN5Zmo6I635Y+W5YW35L2T55qEZGV2aWNl5a6e5L6LXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZpY2UgPSBhd2FpdCB0aGlzLmFkYXB0ZXIucmVxdWVzdERldmljZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgLy8g6L+Z5Y+l6Z2e5bi46aG65bqP6Z2e5bi46YeN6KaB77yM5LiN6IO95Zyo6I635Y+WZGV2aWNl5LmL5YmN6I635Y+WY29udGV4dO+8jOWQpuWImeS8mmNhbnZhc+S4jeaYvuekuuWbvuW9olxuICAgICAgICAgICAgICAgIC8vIOWPquacieWcqGRvbeabtOaWsO+8iOS+i+WmguS/ruaUuWNhbnZhc2Nzc+WuvemrmO+8ieWQjuaJjeaYvuekulxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9ICg8dW5rbm93bj50aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiZ3B1cHJlc2VudFwiKSkgYXMgR1BVQ2FudmFzQ29udGV4dDtcblxuICAgICAgICAgICAgICAgIC8vIOiOt+WPlnN3YXBjaGFpbiDnlKjkuo7lkJFjYW52YXPovpPlh7rmuLLmn5Pnu5PmnpxcbiAgICAgICAgICAgICAgICB0aGlzLnN3YXBDaGFpblRleHR1cmVGb3JtYXQgPSBhd2FpdCB0aGlzLmNvbnRleHQuZ2V0U3dhcENoYWluUHJlZmVycmVkRm9ybWF0KHRoaXMuZGV2aWNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN3YXBDaGFpbiA9IHRoaXMuY29udGV4dC5jb25maWd1cmVTd2FwQ2hhaW4oe1xuICAgICAgICAgICAgICAgICAgICBkZXZpY2U6IHRoaXMuZGV2aWNlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMuc3dhcENoYWluVGV4dHVyZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5PVVRQVVRfQVRUQUNITUVOVCB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2xzbGFuZyA9IGF3YWl0IGdsc2xhbmdNb2R1bGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGhpcy5kZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGg6IDEsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJkZXB0aDI0cGx1cy1zdGVuY2lsOFwiLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLk9VVFBVVF9BVFRBQ0hNRU5ULFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KHZlcnROdW0/OiBudW1iZXIpIHtcbiAgICAgICAgLy8g5Yib5bu6Y29tbWFuZOeUn+aIkOWZqCDnlKjmnaXnvJbnoIHlkJFncHXlj5HpgIHnmoRjb21tYW5kXG4gICAgICAgIHRoaXMuY29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuICAgICAgICAvLyDmuLLmn5NwYXNz55qE5o+P6L+wXG4gICAgICAgIGNvbnN0IHJlbmRlclBhc3NEZXNjOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuc3dhcENoYWluLmdldEN1cnJlbnRUZXh0dXJlKCkuY3JlYXRlVmlldygpLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVmFsdWU6IHRoaXMuY2xlYXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVPcDogXCJzdG9yZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsQXR0YWNobWVudDoge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuZGVwdGhUZXh0dXJlLmNyZWF0ZVZpZXcoKSxcblxuICAgICAgICAgICAgICAgIGRlcHRoTG9hZFZhbHVlOiAxLjAsXG4gICAgICAgICAgICAgICAgZGVwdGhTdG9yZU9wOiBcInN0b3JlXCIsXG4gICAgICAgICAgICAgICAgc3RlbmNpbExvYWRWYWx1ZTogMCxcbiAgICAgICAgICAgICAgICBzdGVuY2lsU3RvcmVPcDogXCJzdG9yZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8g8J+WjO+4jyBFbmNvZGUgZHJhd2luZyBjb21tYW5kc1xuICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyID0gdGhpcy5jb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3MocmVuZGVyUGFzc0Rlc2MpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwZWxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFBpcGVsaW5lID0gdGhpcy5waXBlbGluZXNbaV07XG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyLnNldFBpcGVsaW5lKGN1cnJlbnRQaXBlbGluZS5waXBlbGluZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0QmluZEdyb3VwKDAsIGN1cnJlbnRQaXBlbGluZS51bmlmb3JtQmluZEdyb3VwKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0LCAwLCAxKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0U2Npc3NvclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRQaXBlbGluZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IGN1cnJlbnRQaXBlbGluZS5hdHRyaWJ1dGVzW2ldLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyLnNldFZlcnRleEJ1ZmZlcihpLCBidWZmZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFBpcGVsaW5lLmluZGV4TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0SW5kZXhCdWZmZXIoY3VycmVudFBpcGVsaW5lLmluZGV4QnVmZmVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuZHJhd0luZGV4ZWQoY3VycmVudFBpcGVsaW5lLmluZGV4TGVuZ3RoLCAxLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5kcmF3KHZlcnROdW0sIDEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5lbmRQYXNzKCk7XG5cbiAgICAgICAgdGhpcy5kZXZpY2UuZGVmYXVsdFF1ZXVlLnN1Ym1pdChbdGhpcy5jb21tYW5kRW5jb2Rlci5maW5pc2goKV0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFdlYkdQVVJlbmRlckVuZ2luIH0gZnJvbSBcIi4vcmVuZGVyRW5naW5cIjtcbmltcG9ydCB7IGdldEltYWdlRGF0YSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0xNSAxNTo0MDoyN1xuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0yMyAxNTo1OToyM1xuICovXG5leHBvcnQgY2xhc3MgV2ViR1BVUmVuZGVyUGlwZWxpbmUge1xuICAgIGVuZ2luOiBXZWJHUFVSZW5kZXJFbmdpbjtcbiAgICBwaXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmU7XG4gICAgcGlwZWxpbmVEZXNjOiBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3I7XG4gICAgY29sb3JTdGF0ZTogR1BVQ29sb3JTdGF0ZURlc2NyaXB0b3I7XG4gICAgdmVydGV4U3RhdGU6IEdQVVZlcnRleFN0YXRlRGVzY3JpcHRvcjtcbiAgICByYXN0ZXJpemF0aW9uU3RhdGU6IEdQVVJhc3Rlcml6YXRpb25TdGF0ZURlc2NyaXB0b3I7XG5cbiAgICBhdHRyaWJ1dGVzOiBBcnJheTxhbnk+ID0gW107XG5cbiAgICB1bmlmb3JtQmluZEdyb3VwOiBHUFVCaW5kR3JvdXA7XG4gICAgdW5pZm9ybUJpbmRHcm91cExheW91dDogR1BVQmluZEdyb3VwTGF5b3V0O1xuXG4gICAgdW5pZm9ybUVudHJpZXM6IE1hcDxudW1iZXIsIGFueT4gPSBuZXcgTWFwPG51bWJlciwgYW55PigpO1xuICAgIGluZGV4QnVmZmVyOiBHUFVCdWZmZXI7XG4gICAgaW5kZXhMZW5ndGg6IG51bWJlcjtcblxuICAgIHZzOiBzdHJpbmc7XG4gICAgZnM6IHN0cmluZztcbiAgICB2ZXJ0TW9kdWxlOiBHUFVTaGFkZXJNb2R1bGU7XG4gICAgZnJhZ01vZHVsZTogR1BVU2hhZGVyTW9kdWxlO1xuXG4gICAgdmVydGV4U3RhZ2U6IGFueTtcbiAgICBmcmFnbWVudFN0YWdlOiBhbnk7XG5cbiAgICBsYXlvdXQ6IEdQVVBpcGVsaW5lTGF5b3V0O1xuXG4gICAgY29uc3RydWN0b3IoZW5naW5lOiBXZWJHUFVSZW5kZXJFbmdpbiwgdnM6IHN0cmluZywgZnM6IHN0cmluZykge1xuICAgICAgICB0aGlzLmVuZ2luID0gZW5naW5lO1xuICAgICAgICB0aGlzLmVuZ2luLnBpcGVsaW5lcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLnZzID0gdnM7XG4gICAgICAgIHRoaXMuZnMgPSBmcztcblxuICAgICAgICB0aGlzLnZlcnRNb2R1bGUgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICAgICAgY29kZTogdGhpcy5lbmdpbi5nbHNsYW5nLmNvbXBpbGVHTFNMKHZzLCBcInZlcnRleFwiLCB0cnVlKSxcblxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc291cmNlOiB2cyxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKHNvdXJjZTogYW55KSA9PiB0aGlzLmVuZ2luLmdsc2xhbmcuY29tcGlsZUdMU0woc291cmNlLCBcInZlcnRleFwiLCB0cnVlKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5mcmFnTW9kdWxlID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuZW5naW4uZ2xzbGFuZy5jb21waWxlR0xTTChmcywgXCJmcmFnbWVudFwiLCB0cnVlKSxcblxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc291cmNlOiBmcyxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKHNvdXJjZTogYW55KSA9PiB0aGlzLmVuZ2luLmdsc2xhbmcuY29tcGlsZUdMU0woc291cmNlLCBcImZyYWdtZW50XCIsIHRydWUpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVCdWZmZXIoZnJvbVR5cGVkQXJyYXk6IEZsb2F0MzJBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXksIHVzYWdlOiBHUFVCdWZmZXJVc2FnZSkge1xuICAgICAgICBjb25zdCBncHVCdWZmZXIgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVCdWZmZXIoe1xuICAgICAgICAgICAgc2l6ZTogZnJvbVR5cGVkQXJyYXkuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBtYXBwZWRBdENyZWF0aW9uOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIG5ldyBmcm9tVHlwZWRBcnJheS5jb25zdHJ1Y3RvcihncHVCdWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKSkuc2V0KGZyb21UeXBlZEFycmF5KTtcbiAgICAgICAgZ3B1QnVmZmVyLnVubWFwKCk7XG4gICAgICAgIHJldHVybiBncHVCdWZmZXI7XG4gICAgfVxuXG4gICAgdXBkYXRlQnVmZmVyKHRvOiBHUFVCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBmcm9tVHlwZWRBcnJheTogRmxvYXQzMkFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZW5naW4uZGV2aWNlLmRlZmF1bHRRdWV1ZS53cml0ZUJ1ZmZlcih0bywgb2Zmc2V0LCBmcm9tVHlwZWRBcnJheSwgMCwgZnJvbVR5cGVkQXJyYXkuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgYWRkQXR0cmlidXRlKHR5cGVkQXJyYXk6IEZsb2F0MzJBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXksIGNvbXBvbmVudFNpemU6IG51bWJlciA9IDMpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIodHlwZWRBcnJheSwgR1BVQnVmZmVyVXNhZ2UuVkVSVEVYKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2goeyBidWZmZXIsIGNvbXBvbmVudFNpemUgfSk7XG4gICAgfVxuXG4gICAgcmVzZXRBdHRyaWJ1dGVzKCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5idWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XG4gICAgfVxuXG4gICAgc2V0SW5kZXgodHlwZWRBcnJheTogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSkge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIodHlwZWRBcnJheSwgR1BVQnVmZmVyVXNhZ2UuSU5ERVgpO1xuICAgICAgICB0aGlzLmluZGV4TGVuZ3RoID0gdHlwZWRBcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnNcbiAgICAgKiAgYmluZGluZzogMCxcbiAgICAgKiAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxuICAgICAqICB0eXBlOiBcInVuaWZvcm0tYnVmZmVyXCIsXG4gICAgICogIHJlc291cmNlOiBidWZmZXIgfCBzYW1wbGVyIHwgdGV4dHVyZVZpZXdcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBXZWJHUFVSZW5kZXJQaXBlbGluZVxuICAgICAqL1xuICAgIGFkZFVuaWZvcm1FbnRyeShvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRW50cmllcy5zZXQob3B0aW9ucy5iaW5kaW5nLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBnZXRVbmlmb3JtRW50cnlCeUJpbmRpbmcoa2V5OiBudW1iZXIpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtRW50cmllcy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBhZGRVbmlmb3JtQnVmZmVyKHR5cGVkQXJyYXk6IEZsb2F0MzJBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXksIGJpbmRpbmc6IG51bWJlciA9IDApIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIodHlwZWRBcnJheSwgR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUKTtcbiAgICAgICAgdGhpcy5hZGRVbmlmb3JtRW50cnkoe1xuICAgICAgICAgICAgYmluZGluZzogMCxcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgICAgICAgdHlwZTogXCJ1bmlmb3JtLWJ1ZmZlclwiLFxuICAgICAgICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZFNhbXBsZXIoYmluZGluZzogbnVtYmVyLCBtYWdGaWx0ZXI6IEdQVUZpbHRlck1vZGUgPSBcImxpbmVhclwiLCBtaW5GaWx0ZXI6IEdQVUZpbHRlck1vZGUgPSBcImxpbmVhclwiKSB7XG4gICAgICAgIGNvbnN0IHNhbXBsZXIgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVTYW1wbGVyKHtcbiAgICAgICAgICAgIG1hZ0ZpbHRlcjogbWFnRmlsdGVyLFxuICAgICAgICAgICAgbWluRmlsdGVyOiBtaW5GaWx0ZXIsXG4gICAgICAgICAgICBtYXhBbmlzb3Ryb3B5OiA0LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFVuaWZvcm1FbnRyeSh7XG4gICAgICAgICAgICBiaW5kaW5nOiBiaW5kaW5nLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgICAgICAgICB0eXBlOiBcInNhbXBsZXJcIixcbiAgICAgICAgICAgIHJlc291cmNlOiBzYW1wbGVyLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRUZXh0dXJlVmlldyhiaW5kaW5nOiBudW1iZXIsIHVybDogc3RyaW5nLCBuZWVkQ29yczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8g5Yqg6L295Zu+54mHXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAobmVlZENvcnMpIHtcbiAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgYXdhaXQgaW1nLmRlY29kZSgpO1xuXG4gICAgICAgIC8vIOWIm+W7ukdQVVRleHR1cmVcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogXCJyZ2JhOHVub3JtXCIsXG4gICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLkNPUFlfRFNUIHwgR1BVVGV4dHVyZVVzYWdlLlNBTVBMRUQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmVEYXRhID0gZ2V0SW1hZ2VEYXRhKGltZyk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5lbmdpbi5kZXZpY2UuZGVmYXVsdFF1ZXVlLndyaXRlVGV4dHVyZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuZW5naW4uZGV2aWNlLmRlZmF1bHRRdWV1ZS53cml0ZVRleHR1cmUoeyB0ZXh0dXJlIH0sIHRleHR1cmVEYXRhLCB7IGJ5dGVzUGVyUm93OiBpbWcud2lkdGggKiA0IH0sIFtcbiAgICAgICAgICAgICAgICBpbWcud2lkdGgsXG4gICAgICAgICAgICAgICAgaW1nLmhlaWdodCxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlSW1hZ2VCaXRtYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8g55Sf5oiQYml0bWFwXG4gICAgICAgICAgICBjb25zdCBiaXRtYXAgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpbWcpO1xuXG4gICAgICAgICAgICAvLyDorr7nva5jb3B555qE5rqQXG4gICAgICAgICAgICBsZXQgc291cmNlOiBHUFVJbWFnZUJpdG1hcENvcHlWaWV3ID0geyBpbWFnZUJpdG1hcDogYml0bWFwIH07XG4gICAgICAgICAgICAvLyDorr7nva5jb3B55Yiw55qE5Zyw5pa5XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb246IEdQVVRleHR1cmVDb3B5VmlldyA9IHsgdGV4dHVyZTogdGV4dHVyZSB9O1xuICAgICAgICAgICAgLy8g6K6+572uY29weeeahOWwuuWvuFxuICAgICAgICAgICAgbGV0IGNvcHlTaXplOiBHUFVFeHRlbnQzRCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogaW1nLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyDmiafooYxjb3B55pON5L2cXG4gICAgICAgICAgICB0aGlzLmVuZ2luLmRldmljZS5kZWZhdWx0UXVldWUuY29weUltYWdlQml0bWFwVG9UZXh0dXJlKHNvdXJjZSwgZGVzdGluYXRpb24sIGNvcHlTaXplKTtcbiAgICAgICAgICAgIC8vIOmHiuaUvmJpdG1hcOaVsOaNrlxuICAgICAgICAgICAgYml0bWFwLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBGYWxsYmFjayB1bnRpbCBRdWV1ZS53cml0ZVRleHR1cmUgaXMgaW1wbGVtZW50ZWQuXG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlRGF0YUJ1ZmZlciA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgICAgICAgICAgc2l6ZTogdGV4dHVyZURhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QgfCBHUFVCdWZmZXJVc2FnZS5DT1BZX1NSQyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmVuZ2luLmRldmljZS5kZWZhdWx0UXVldWUud3JpdGVCdWZmZXIodGV4dHVyZURhdGFCdWZmZXIsIDAsIHRleHR1cmVEYXRhKTtcblxuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUxvYWRFbmNvZGVyID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoKTtcbiAgICAgICAgICAgIHRleHR1cmVMb2FkRW5jb2Rlci5jb3B5QnVmZmVyVG9UZXh0dXJlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiB0ZXh0dXJlRGF0YUJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzUGVyUm93OiBpbWcud2lkdGggKiA0LFxuICAgICAgICAgICAgICAgICAgICBpbWFnZUhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtpbWcud2lkdGgsIGltZy5oZWlnaHQsIDFdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmVuZ2luLmRldmljZS5kZWZhdWx0UXVldWUuc3VibWl0KFt0ZXh0dXJlTG9hZEVuY29kZXIuZmluaXNoKCldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkVW5pZm9ybUVudHJ5KHtcbiAgICAgICAgICAgIGJpbmRpbmc6IGJpbmRpbmcsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgICAgIHR5cGU6IFwic2FtcGxlZC10ZXh0dXJlXCIsXG4gICAgICAgICAgICByZXNvdXJjZTogdGV4dHVyZS5jcmVhdGVWaWV3KCksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdlbmVyYXRlVW5pZm9ybXMoKSB7XG4gICAgICAgIGNvbnN0IGJpbmRHcm91cExheW91dERlczogYW55ID0geyBlbnRyaWVzOiBbXSB9O1xuICAgICAgICBjb25zdCBiaW5kR3JvdXBFbnRyaWVzOiBBcnJheTxhbnk+ID0gW107XG4gICAgICAgIHRoaXMudW5pZm9ybUVudHJpZXMuZm9yRWFjaCgoZW50cnksIGtleSkgPT4ge1xuICAgICAgICAgICAgYmluZEdyb3VwTGF5b3V0RGVzLmVudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgYmluZGluZzogZW50cnkuYmluZGluZyxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBlbnRyeS52aXNpYmlsaXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5LnR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJpbmRHcm91cEVudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgYmluZGluZzogZW50cnkuYmluZGluZyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogZW50cnkucmVzb3VyY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy51bmlmb3JtQmluZEdyb3VwTGF5b3V0ID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlQmluZEdyb3VwTGF5b3V0KGJpbmRHcm91cExheW91dERlcyk7XG4gICAgICAgIHRoaXMudW5pZm9ybUJpbmRHcm91cCA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZUJpbmRHcm91cCh7XG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMudW5pZm9ybUJpbmRHcm91cExheW91dCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGVudHJpZXM6IGJpbmRHcm91cEVudHJpZXMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdlbmVyYXRlUGlwbGluZSgpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVVuaWZvcm1zKCk7XG4gICAgICAgIC8vIPCflo3vuI8gU2hhZGVyIE1vZHVsZXNcbiAgICAgICAgdGhpcy52ZXJ0ZXhTdGFnZSA9IHtcbiAgICAgICAgICAgIG1vZHVsZTogdGhpcy52ZXJ0TW9kdWxlLFxuICAgICAgICAgICAgZW50cnlQb2ludDogXCJtYWluXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5mcmFnbWVudFN0YWdlID0ge1xuICAgICAgICAgICAgbW9kdWxlOiB0aGlzLmZyYWdNb2R1bGUsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5cIixcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDwn42lIEJsZW5kIFN0YXRlXG4gICAgICAgIHRoaXMuY29sb3JTdGF0ZSA9IHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJiZ3JhOHVub3JtXCIsXG4gICAgICAgICAgICAvLyBhbHBoYUJsZW5kOiB7XG4gICAgICAgICAgICAvLyAgICAgc3JjRmFjdG9yOiBcInNyYy1hbHBoYVwiLFxuICAgICAgICAgICAgLy8gICAgIGRzdEZhY3RvcjogXCJvbmUtbWludXMtc3JjLWFscGhhXCIsXG4gICAgICAgICAgICAvLyAgICAgb3BlcmF0aW9uOiBcImFkZFwiLFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIGNvbG9yQmxlbmQ6IHtcbiAgICAgICAgICAgICAgICBzcmNGYWN0b3I6IFwic3JjLWFscGhhXCIsXG4gICAgICAgICAgICAgICAgZHN0RmFjdG9yOiBcIm9uZS1taW51cy1zcmMtYWxwaGFcIixcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiYWRkXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JpdGVNYXNrOiBHUFVDb2xvcldyaXRlLkFMTCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDwn5S6IFJhc3Rlcml6YXRpb25cbiAgICAgICAgdGhpcy5yYXN0ZXJpemF0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICAvLyBmcm9udEZhY2U6IFwiY2N3XCIsXG4gICAgICAgICAgICAvLyBjdWxsTW9kZTogXCJub25lXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g8J+SviBVbmlmb3JtIERhdGFcbiAgICAgICAgdGhpcy5sYXlvdXQgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICAgICAgICBiaW5kR3JvdXBMYXlvdXRzOiBbdGhpcy51bmlmb3JtQmluZEdyb3VwTGF5b3V0XSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhTdGF0ZSA9IHtcbiAgICAgICAgICAgIGluZGV4Rm9ybWF0OiBcInVpbnQzMlwiLFxuICAgICAgICAgICAgdmVydGV4QnVmZmVyczogdGhpcy5nZXRWZXJ0ZXhCdWZmZXJEZXNjKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5waXBlbGluZURlc2MgPSB7XG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMubGF5b3V0LFxuICAgICAgICAgICAgdmVydGV4U3RhZ2U6IHRoaXMudmVydGV4U3RhZ2UsXG4gICAgICAgICAgICBmcmFnbWVudFN0YWdlOiB0aGlzLmZyYWdtZW50U3RhZ2UsXG4gICAgICAgICAgICBwcmltaXRpdmVUb3BvbG9neTogXCJ0cmlhbmdsZS1saXN0XCIsXG4gICAgICAgICAgICBjb2xvclN0YXRlczogW3RoaXMuY29sb3JTdGF0ZV0sXG4gICAgICAgICAgICB2ZXJ0ZXhTdGF0ZTogdGhpcy52ZXJ0ZXhTdGF0ZSxcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbFN0YXRlOiB7XG4gICAgICAgICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVwdGhDb21wYXJlOiBcImxlc3NcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXMtc3RlbmNpbDhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByYXN0ZXJpemF0aW9uU3RhdGU6IHRoaXMucmFzdGVyaXphdGlvblN0YXRlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBpcGVsaW5lID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUodGhpcy5waXBlbGluZURlc2MpO1xuICAgIH1cblxuICAgIGdldFZlcnRleEJ1ZmZlckRlc2MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyRGVzYzogR1BVVmVydGV4QnVmZmVyTGF5b3V0RGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiBpbmRleCwgLy8gW1thdHRyaWJ1dGUoaW5kZXgpXV1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogYGZsb2F0JHtpdGVtLmNvbXBvbmVudFNpemV9YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGFycmF5U3RyaWRlOiA0ICogaXRlbS5jb21wb25lbnRTaXplLCAvLyBzaXplb2YoZmxvYXQpICogM1xuICAgICAgICAgICAgICAgIHN0ZXBNb2RlOiBcInZlcnRleFwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJEZXNjO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKlxuICogQEF1dGhvcjogaG9uZ3h1LmxpblxuICogQERhdGU6IDIwMjAtMDctMjIgMjM6MTc6MTRcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDctMjIgMjM6Mjg6MjRcbiAqL1xuXG5jb25zdCBnZXRJbWFnZURhdGEgPSAoaW1nOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICByZXR1cm4gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpLmRhdGE7XG59O1xuXG5leHBvcnQgeyBnZXRJbWFnZURhdGEgfTtcbiIsIi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0wMiAxNDo0MDoxNVxuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0yNCAwOTo0ODoxNFxuICovXG5cbmltcG9ydCB7IG1hdDQsIHZlYzMgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XG5pbXBvcnQgeyBXZWJHUFVSZW5kZXJFbmdpbiB9IGZyb20gXCIuLi8uLi9lbmdpbmUvcmVuZGVyRW5naW5cIjtcbmltcG9ydCB7IFdlYkdQVVJlbmRlclBpcGVsaW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZS9waXBsaW5lXCI7XG5cbmltcG9ydCBcIi4uLy4uL3N0eWxlLmxlc3NcIjtcblxuaW1wb3J0IHsgZnMsIHZzIH0gZnJvbSBcIi4vc2hhZGVyXCI7XG5pbXBvcnQgeyBwb3NpdGlvbnMsIG5vcm1hbHMsIGxvbmdTaXplIH0gZnJvbSBcIi4vZGF0YVwiO1xuXG5jb25zdCByZW5kZXJFbmdpbmU6IFdlYkdQVVJlbmRlckVuZ2luID0gbmV3IFdlYkdQVVJlbmRlckVuZ2luKFwicmVuZGVyQ2FudmFzXCIpO1xuXG5jb25zdCBwcm9qZWN0aW9uTXRyaXggPSBtYXQ0LnBlcnNwZWN0aXZlKFxuICAgIG1hdDQuY3JlYXRlKCksXG4gICAgTWF0aC5QSSAvIDMuNSxcbiAgICByZW5kZXJFbmdpbmUuY2FudmFzLndpZHRoIC8gcmVuZGVyRW5naW5lLmNhbnZhcy5oZWlnaHQsXG4gICAgMC4wMSxcbiAgICAxMDAwMFxuKTtcblxuY29uc3Qgdmlld01hdHJpeCA9IG1hdDQubG9va0F0KFxuICAgIG1hdDQuY3JlYXRlKCksXG4gICAgdmVjMy5mcm9tVmFsdWVzKDAsIGxvbmdTaXplICogMS41LCAyMDApLFxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCBsb25nU2l6ZSAvIDIsIDApLFxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKVxuKTtcblxuY29uc3QgbW9kZWxNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuY29uc3QgbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuY29uc3QgbXZwTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbmNvbnN0IG12SW52ZXJ0VHJhbnNwb3NlID0gbWF0NC5jcmVhdGUoKTtcblxuY29uc3QgbWF0cml4QXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDY0KTtcblxubGV0IHBpcGxpbmU6IFdlYkdQVVJlbmRlclBpcGVsaW5lID0gbnVsbDtcbmNvbnN0IGluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5naW5lUmVhZHkgPSBhd2FpdCByZW5kZXJFbmdpbmUuaW5pdCgpO1xuICAgIGlmIChlbmdpbmVSZWFkeSkge1xuICAgICAgICBwaXBsaW5lID0gbmV3IFdlYkdQVVJlbmRlclBpcGVsaW5lKHJlbmRlckVuZ2luZSwgdnMsIGZzKTtcbiAgICAgICAgcGlwbGluZS5hZGRBdHRyaWJ1dGUocG9zaXRpb25zKTtcbiAgICAgICAgcGlwbGluZS5hZGRBdHRyaWJ1dGUobm9ybWFscyk7XG4gICAgICAgIHBpcGxpbmUuYWRkVW5pZm9ybUJ1ZmZlcihtYXRyaXhBcnJheSk7XG4gICAgICAgIHBpcGxpbmUuZ2VuZXJhdGVQaXBsaW5lKCk7XG4gICAgICAgIHJlbmRlcigpO1xuICAgIH1cbn07XG5cbmNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICBsZXQgYnVmZmVyID0gcGlwbGluZS5nZXRVbmlmb3JtRW50cnlCeUJpbmRpbmcoMCkucmVzb3VyY2UuYnVmZmVyIGFzIEdQVUJ1ZmZlcjtcbiAgICBwaXBsaW5lLnVwZGF0ZUJ1ZmZlcihidWZmZXIsIDAsIGdldFJvdGF0ZU1hdHJpeCgpKTtcbiAgICByZW5kZXJFbmdpbmUuZHJhdyhwb3NpdGlvbnMubGVuZ3RoIC8gMyk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG59O1xuXG5jb25zdCBnZXRSb3RhdGVNYXRyaXggPSAoKSA9PiB7XG4gICAgbWF0NC5mcm9tUm90YXRpb24obW9kZWxNYXRyaXgsIDAuMDAwNSAqIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCkpO1xuICAgIC8vIG1vZGVsIHZpZXcgbWF0cml4XG4gICAgbWF0NC5tdWwobXZNYXRyaXgsIHZpZXdNYXRyaXgsIG1vZGVsTWF0cml4KTtcbiAgICAvLyBtdnAgbWF0cml4XG4gICAgbWF0NC5tdWwobXZwTWF0cml4LCBwcm9qZWN0aW9uTXRyaXgsIG12TWF0cml4KTtcbiAgICAvLyBpbnZlcnQgbXYgbWF0cml4XG4gICAgbWF0NC5pbnZlcnQobXZJbnZlcnRUcmFuc3Bvc2UsIG12TWF0cml4KTtcbiAgICAvLyBpbnZlcnQgdHJhbnNwb3NlIG12IG1hdHJpeFxuICAgIG1hdDQudHJhbnNwb3NlKG12SW52ZXJ0VHJhbnNwb3NlLCBtdkludmVydFRyYW5zcG9zZSk7XG5cbiAgICBtYXRyaXhBcnJheS5zZXQobXZwTWF0cml4KTtcbiAgICBtYXRyaXhBcnJheS5zZXQobXZNYXRyaXgsIDE2KTtcbiAgICAvL2ZvciBub3JtYWxcbiAgICBtYXRyaXhBcnJheS5zZXQobXZJbnZlcnRUcmFuc3Bvc2UsIDMyKTtcbiAgICBtYXRyaXhBcnJheS5zZXQodmlld01hdHJpeCwgNDgpO1xuXG4gICAgcmV0dXJuIG1hdHJpeEFycmF5O1xufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGluaXQpO1xuIiwiLypcbiAqIEBBdXRob3I6IGhvbmd4dS5saW5cbiAqIEBEYXRlOiAyMDIwLTA3LTIwIDE2OjQ0OjExXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA3LTI0IDA5OjQ4OjU5XG4gKi9cblxuY29uc3QgdnMgPSBgI3ZlcnNpb24gNDUwXG5sYXlvdXQoc2V0ID0gMCwgYmluZGluZyA9IDApIHVuaWZvcm0gVW5pZm9ybXMge1xuICAgIG1hdDQgdU1WUE1hdHJpeDtcbiAgICBtYXQ0IHVNVk1hdHJpeDtcbiAgICBtYXQ0IHVOb3JtYWxNYXRyaXg7XG59O1xuXG5sYXlvdXQobG9jYXRpb24gPSAwKSBpbiB2ZWMzIGFQb3NpdGlvbjtcbmxheW91dChsb2NhdGlvbiA9IDEpIGluIHZlYzMgYU5vcm1hbDtcblxubGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzMgdk5vcm1hbDtcbnZvaWQgbWFpbigpIHtcbiAgICBnbF9Qb3NpdGlvbiA9IHVNVlBNYXRyaXggKiB2ZWM0KGFQb3NpdGlvbiwgMS4wKTtcbiAgICB2Tm9ybWFsID0gKHVOb3JtYWxNYXRyaXggKiB2ZWM0KGFOb3JtYWwsIDApKS54eXo7XG59YDtcblxuY29uc3QgZnMgPSBgI3ZlcnNpb24gNDUwXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OyBcbiAgICBsYXlvdXQobG9jYXRpb249MCkgaW4gdmVjMyB2Tm9ybWFsO1xuXG4gICAgbGF5b3V0KGxvY2F0aW9uPTApIG91dCB2ZWM0IGZyYWdDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpeyBcbiAgICAgICAgdmVjNCBjb2xvciA9IHZlYzQoMSwgMCwgMCwgMSk7ICAvLyDmqKHlnovpopzoibJcbiAgICAgICAgdmVjMyBsaWdodENvbG9yID0gdmVjMygxLCAxLCAxKTsgLy/lhYnmupDpopzoibJcbiAgICAgICAgdmVjMyBub3JtYWwgPSBub3JtYWxpemUodk5vcm1hbCk7IC8v5rOV5ZCR6YePXG4gICAgICAgIHZlYzMgZGlyID0gbm9ybWFsaXplKHZlYzMoMC41LDEuMCwwLjcpKTsgLy/lhYnmupDmlrnlkJFcbiAgICAgICAgZmxvYXQgY29zVGhldGEgPSBtYXgoZG90KG5vcm1hbCwgZGlyKSwwLjApOyAvLyDorqHnrpflpLnop5LnmoRjb3PlgLxcbiAgICAgICAgdmVjMyBkaWZmdXNlID0gbGlnaHRDb2xvciAqIHZlYzMoY29sb3IpICogY29zVGhldGE7XG4gICAgICAgIGZyYWdDb2xvciAgPSB2ZWM0KGRpZmZ1c2UsMS4wKTtcbiAgICB9XG5gO1xuXG5leHBvcnQgeyBmcywgdnMgfTtcbiIsIi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0yMCAxNjo0NDowNVxuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0yMCAxNjo1NzoxN1xuICovXG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3Qgc2l6ZSA9IDEwO1xuY29uc3QgbG9uZ1NpemUgPSAxMDA7XG5jb25zdCBzaG9ydFNpemUgPSA1MDtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgLy8g6ZW/6L655q2j6Z2iXG4gICAgMCxcdFx0XHRcdDAsXHRcdFx0XHQwLFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdDAsXG4gICAgMCxcdFx0XHRcdGxvbmdTaXplLFx0XHQwLCBcbiAgICAwLFx0XHRcdFx0MCxcdFx0XHRcdDAsXG4gICAgc2l6ZSxcdFx0XHQwLFx0XHRcdFx0MCxcbiAgICBzaXplLFx0XHRcdGxvbmdTaXplLFx0XHQwLFxuICAgIFxuICAgIFxuICAgIC8vIOmVv+i+ueiDjOmdolxuXHQgICAwLFx0XHRcdFx0MCxcdFx0XHRcdC1zaXplLFxuICAgIDAsXHRcdFx0XHRsb25nU2l6ZSxcdFx0LXNpemUsXG4gICAgc2l6ZSxcdFx0XHRsb25nU2l6ZSxcdFx0LXNpemUsXG4gICAgMCxcdFx0XHRcdDAsXHRcdFx0XHQtc2l6ZSxcbiAgICBzaXplLFx0XHRcdGxvbmdTaXplLFx0XHQtc2l6ZSxcbiAgICBzaXplLFx0XHRcdDAsXHRcdFx0XHQtc2l6ZSxcblx0XG4gICAgLy/plb/ovrnpobZcbiAgICAwLFx0XHRcdFx0bG9uZ1NpemUsXHRcdDAsICBcbiAgICBzaXplLFx0XHRcdGxvbmdTaXplLFx0XHQwLFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdC1zaXplLFxuICAgIDAsXHRcdFx0XHRsb25nU2l6ZSxcdFx0MCwgIFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdC1zaXplLFxuICAgIDAsXHRcdFx0XHRsb25nU2l6ZSxcdFx0LXNpemUsXG5cbiAgICAvL+mVv+i+ueW6lVxuICAgIDAsXHRcdFx0XHQwLFx0XHRcdFx0MCwgXG4gICAgc2l6ZSxcdFx0XHQwLFx0XHRcdFx0LXNpemUsXG4gICAgc2l6ZSxcdFx0XHQwLFx0XHRcdFx0MCxcbiAgICAwLFx0XHRcdFx0MCxcdFx0XHRcdDAsIFxuICAgIDAsXHRcdFx0XHQwLFx0XHRcdFx0LXNpemUsXG4gICAgc2l6ZSxcdFx0XHQwLFx0XHRcdFx0LXNpemUsXG5cbiAgICAvL+mVv+i+ueW3puS+p1xuICAgIDAsXHRcdFx0XHQwLFx0XHRcdFx0MCwgIFxuICAgIDAsXHRcdFx0XHRsb25nU2l6ZSxcdFx0MCxcbiAgICAwLFx0XHRcdFx0MCxcdFx0XHRcdC1zaXplLFxuICAgIDAsXHRcdFx0XHQwLFx0XHRcdFx0LXNpemUsIFxuICAgIDAsXHRcdFx0XHRsb25nU2l6ZSxcdFx0MCxcbiAgICAwLFx0XHRcdFx0bG9uZ1NpemUsXHRcdC1zaXplLFxuXG4gICAgLy/plb/ovrnlj7PkvqdcbiAgICBzaXplLFx0XHRcdHNpemUsXHRcdFx0MCwgXG4gICAgc2l6ZSxcdFx0XHRzaXplLFx0XHRcdC1zaXplLFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdDAsXG4gICAgc2l6ZSxcdFx0XHRzaXplLFx0XHRcdC1zaXplLFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdC1zaXplLFxuICAgIHNpemUsXHRcdFx0bG9uZ1NpemUsXHRcdDAsXG5cbiAgIC8v55+t6L655YmNXG4gICAgc2l6ZSxcdFx0XHQwLFx0XHRcdFx0MCwgIFxuICAgIHNpemUrc2hvcnRTaXplLFx0c2l6ZSxcdFx0XHQwLFxuICAgIHNpemUsXHRcdFx0c2l6ZSxcdFx0XHQwLFxuICAgIHNpemUsXHRcdFx0MCxcdFx0XHRcdDAsICBcbiAgICBzaXplK3Nob3J0U2l6ZSxcdDAsXHRcdFx0XHQwLFxuICAgIHNpemUrc2hvcnRTaXplLFx0c2l6ZSxcdFx0XHQwLFxuXG4gICAgLy/nn63ovrnlkI5cbiAgICBzaXplLFx0XHRcdDAsXHRcdFx0XHQtc2l6ZSwgXG4gICAgc2l6ZSxcdFx0XHRzaXplLFx0XHRcdC1zaXplLFxuICAgIHNpemUrc2hvcnRTaXplLFx0c2l6ZSxcdFx0XHQtc2l6ZSxcbiAgICBzaXplLFx0XHRcdDAsXHRcdFx0XHQtc2l6ZSwgXG4gICAgc2l6ZStzaG9ydFNpemUsXHRzaXplLFx0XHRcdC1zaXplLFxuICAgIHNpemUrc2hvcnRTaXplLFx0MCxcdFx0XHRcdC1zaXplLFxuXG5cbiAgICAvL+efrei+ueS4ilxuICAgIHNpemUsXHRcdFx0c2l6ZSxcdFx0XHQwLCAgXG4gICAgc2l6ZStzaG9ydFNpemUsXHRzaXplLFx0XHRcdC1zaXplLFxuICAgIHNpemUsXHRcdFx0c2l6ZSxcdFx0XHQtc2l6ZSxcbiAgICBzaXplLFx0XHRcdHNpemUsXHRcdFx0MCwgIFxuICAgIHNpemUrc2hvcnRTaXplLFx0c2l6ZSxcdFx0XHQwLFxuICAgIHNpemUrc2hvcnRTaXplLFx0c2l6ZSxcdFx0XHQtc2l6ZSxcbiAgICBcbiAgICAvL+efrei+ueS4i1xuICAgIHNpemUsXHRcdFx0MCxcdFx0XHRcdDAsIFxuICAgIHNpemUsXHRcdFx0MCxcdFx0XHRcdC1zaXplLFxuICAgIHNpemUrc2hvcnRTaXplLFx0MCxcdFx0XHRcdC1zaXplLFxuICAgIHNpemUsXHRcdFx0MCxcdFx0XHRcdDAsIFxuICAgIHNpemUrc2hvcnRTaXplLFx0MCxcdFx0XHRcdC1zaXplLFxuICAgIHNpemUrc2hvcnRTaXplLFx0MCxcdFx0XHRcdDAsXG5cbiAgICAvL+efrei+ueWPs+S+p1xuICAgIHNpemUrc2hvcnRTaXplLFx0XHRcdDAsXHRcdFx0XHQwLCAgXG4gICAgc2l6ZStzaG9ydFNpemUsXHRcdFx0c2l6ZSxcdFx0XHQtc2l6ZSxcbiAgICBzaXplK3Nob3J0U2l6ZSxcdFx0XHRzaXplLFx0XHRcdDAsXG4gICAgc2l6ZStzaG9ydFNpemUsXHRcdFx0MCxcdFx0XHRcdDAsICBcbiAgICBzaXplK3Nob3J0U2l6ZSxcdFx0XHQwLFx0XHRcdC1zaXplLFxuICAgIHNpemUrc2hvcnRTaXplLFx0XHRcdHNpemUsXHRcdFx0LXNpemUsXG4gICAgXG4gICAgICAgICAgIF0pO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShcbiAgICBbXG4gICAvLyDplb/ovrnmraPpnaJcbiAgIDAsICAgICAgICAwLCAgICAgIDEsIFxuICAgMCwgICAgICAgIDAsICAgICAgMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAxLCBcbiAgIDAsICAgICAgICAwLCAgICAgIDEsIFxuICAgMCwgICAgICAgIDAsICAgICAgMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAxLFxuICAgXG4gICBcbiAgIC8vIOmVv+i+ueiDjOmdolxuICAgMCwgICAgICAgIDAsICAgICAgLTEsIFxuICAgMCwgICAgICAgIDAsICAgICAgLTEsIFxuICAgMCwgICAgICAgIDAsICAgICAgLTEsIFxuICAgMCwgICAgICAgIDAsICAgICAgLTEsIFxuICAgMCwgICAgICAgIDAsICAgICAgLTEsIFxuICAgMCwgICAgICAgIDAsICAgICAgLTEsXG4gICBcbiAgIC8v6ZW/6L656aG2XG4gICAwLCAgICAgICAgMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAxLCAgICAgIDAsIFxuICAgMCwgICAgICAgIDEsICAgICAgMCwgXG4gICAwLCAgICAgICAgMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAxLCAgICAgIDAsIFxuICAgMCwgICAgICAgIDEsICAgICAgMCxcblxuICAgLy/plb/ovrnlupVcbiAgIDAsICAgICAgICAtMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAtMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAtMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAtMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAtMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAtMSwgICAgICAwLFxuXG4gICAvL+mVv+i+ueW3puS+p1xuICAgLTEsICAgICAgICAwLCAgICAgIDAsIFxuICAgLTEsICAgICAgICAwLCAgICAgIDAsIFxuICAgLTEsICAgICAgICAwLCAgICAgIDAsIFxuICAgLTEsICAgICAgICAwLCAgICAgIDAsIFxuICAgLTEsICAgICAgICAwLCAgICAgIDAsIFxuICAgLTEsICAgICAgICAwLCAgICAgIDAsXG5cbiAgIC8v6ZW/6L655Y+z5L6nXG4gICAxLCAgICAgICAgMCwgICAgICAwLCBcbiAgIDEsICAgICAgICAwLCAgICAgIDAsIFxuICAgMSwgICAgICAgIDAsICAgICAgMCwgXG4gICAxLCAgICAgICAgMCwgICAgICAwLCBcbiAgIDEsICAgICAgICAwLCAgICAgIDAsIFxuICAgMSwgICAgICAgIDAsICAgICAgMCxcblxuICAvL+efrei+ueWJjVxuICAgMCwgICAgICAgIDAsICAgICAgMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAxLCBcbiAgIDAsICAgICAgICAwLCAgICAgIDEsIFxuICAgMCwgICAgICAgIDAsICAgICAgMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAxLCBcbiAgIDAsICAgICAgICAwLCAgICAgIDEsXG5cbiAgIC8v55+t6L655ZCOXG4gICAwLCAgICAgICAgMCwgICAgICAtMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAtMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAtMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAtMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAtMSwgXG4gICAwLCAgICAgICAgMCwgICAgICAtMSxcblxuXG4gICAvL+efrei+ueS4ilxuICAgMCwgICAgICAgIDEsICAgICAgMCwgXG4gICAwLCAgICAgICAgMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAxLCAgICAgIDAsIFxuICAgMCwgICAgICAgIDEsICAgICAgMCwgXG4gICAwLCAgICAgICAgMSwgICAgICAwLCBcbiAgIDAsICAgICAgICAxLCAgICAgIDAsXG4gICBcbiAgIC8v55+t6L655LiLXG4gICAwLCAgICAgICAgLTEsICAgICAgMCwgXG4gICAwLCAgICAgICAgLTEsICAgICAgMCwgXG4gICAwLCAgICAgICAgLTEsICAgICAgMCwgXG4gICAwLCAgICAgICAgLTEsICAgICAgMCwgXG4gICAwLCAgICAgICAgLTEsICAgICAgMCwgXG4gICAwLCAgICAgICAgLTEsICAgICAgMCxcblxuICAgLy/nn63ovrnlj7PkvqdcbiAgIDEsICAgICAgICAwLCAgICAgIDAsIFxuICAgMSwgICAgICAgIDAsICAgICAgMCwgXG4gICAxLCAgICAgICAgMCwgICAgICAwLCBcbiAgIDEsICAgICAgICAwLCAgICAgIDAsIFxuICAgMSwgICAgICAgIDAsICAgICAgMCwgXG4gICAxLCAgICAgICAgMCwgICAgICAwLCBcbiAgICAgXVxuKTtcblxuZXhwb3J0IHsgcG9zaXRpb25zLCBub3JtYWxzLCBsb25nU2l6ZSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==